language: python

sudo: required
dist: trusty

python:
  - "pypy3.5"
  - "3.5"
  - "3.6"
  - "3.7"
  - "3.8-dev"

virtualenv:
  system_site_packages: true

before-install:
  sudo apt-get update
  sudo apt-get install -y python3-gi
  sudo apt-get install -y gir1.2-gtk-3.0
  sudo apt-get install -y gir1.2-notify-0.7
  sudo apt-get install -y gir1.2-secret-1
  sudo apt-get install -y gir1.2-wnck-3.0
  sudo apt-get install -y gettext
  sudo apt-get install -y intltool
  sudo apt-get install -y desktop-file-utils
  
install:
  pip install six

script:
  - python setup.py build test
  - desktop-file-validate viagee.desktop
  - desktop-file-validate viagee-startup.desktop
